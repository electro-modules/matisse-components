<Macro name="DropdownMenu">
  <Param name="items" type="source"/>
  <Param name="class" type="text"/>
  <Param name="labelledBy" type="text"/>

  <If the="{{ @items }}" isSet>
    <ul class="dropdown-menu {{ @class }}" aria-labelledby="{{ @labelledBy }}">
      <Repeat for="{{ @items }}" as="link">
        <If the="{{ link.isActuallyVisible }}">
          <If the="{{ link.isGroup }}">
            <If the="{{ link.title }}" is="-">
              <li role="separator" class="divider"></li>
              <Else>
                <li class="dropdown-header">{{ link.title }}</li>
              </Else>
            </If>
            <Else>
              <If the="{{ link.isActuallyEnabled }}">
                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                <Else>
                  <li class="disabled"><a href="javascript:void(0)">{{ link.title }}</a></li>
                </Else>
              </If>
            </Else>
          </If>
        </If>
      </Repeat>
    </ul>
  </If>

</Macro>
